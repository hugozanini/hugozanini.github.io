
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Criando um detector de objetos em tempo real com Tensorflow.js</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid="0"
                  id="0"
                  title="Criando um detector de objetos em tempo real com Tensorflow.js"
                  environment="web"
                  feedback-link="https://github.com/hugozanini">
    
      <google-codelab-step label="Antes de voc√™ come√ßar" duration="1">
        <p>Nesse tutorial, vamos dar os primeiros passos com Machine Learning em Javascript. Utilizando Tensorflow.js, iremos construir uma aplica√ß√£o web capaz de classificar e detectar objetos comuns de nosso dia a dia utilizando a webcam de qualquer dispositivo.</p>
<p>Ao final, √© esperado que voc√™ seja capaz de detectar mais de 80 classes diferentes em tempo real e produza resultados como o a seguir:</p>
<p class="image-container"><img alt="alt text" title="Title" src="img/cc258566b57b8ee7.jpeg"></p>
<p>Esse tipo de aplica√ß√£o permite com que voc√™ crie in√∫meras solu√ß√µes em sua industria ou situa√ß√µes rotineiras. Imagine detectar e contar as pessoas que encontram-se uma √°rea controlada dentro de uma f√°brica ou identificar quando seu cachorro est√° na cozinha da sua casa e enviar uma mensagem para o seu celular... Tudo isso pode ser feito utilizando o modelo que iremos trabalhar nessa se√ß√£o.</p>
<p>Curtiu?</p>
<p>Ent√£o pegue uma dose extra de caf√© e bora criar uma c√¢mera inteligente utilizando Machine Learning ü§ì</p>
<aside class="special"><p>Esse tutorial √© focado em mostrar como dar os primeiros passos com modelos pr√©-treinados em Tensorflow.js. Conceitos e blocos de c√≥digo que n√£o s√£o relevantes para entender Tensorflow ou Machine Learning n√£o ser√£o explicados.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="O que √© o Tensorflow.js?" duration="1">
        <p class="image-container"><img alt="alt text" title="Title" src="img/58001fdc979d7ce9.png"></p>
<p>O <a href="https://www.tensorflow.org/js" target="_blank">Tensorflow.js</a> √© uma <a href="https://github.com/tensorflow/tfjs" target="_blank">biblioteca aberta de Machine Learning</a> que roda em qualquer lugar que √© poss√≠vel executar aplica√ß√µes em JavaScript. Ela √© baseada na biblioteca do Tensorflow escrita em python e busca recriar toda a experi√™ncia de desenvolvimento da API original no ecossistema JavaScript.</p>
<h2 is-upgraded>Onde ele pode ser utilizado?</h2>
<p>Dada a portabilidade do JavaScript, √© poss√≠vel executar aplica√ß√µes de Machine Learning nas seguintes plataformas com facilidade:</p>
<ul>
<li>No navegador web diretamente no lado do cliente utilizando JavaScript simples</li>
<li>Em servidores e dispositivos IoT como Raspberry Pi utilizando Node.js</li>
<li>Aplica√ß√µes desktop utilizando Electron</li>
<li>Aplicativos nativos de smartphone utilizando React Native</li>
</ul>
<p>O Tensorflow.js suporta diferentes backends e se adapta de acordo com o ambiente em que est√° sendo executado. Atualmente, ele suporta as seguintes formas de execu√ß√£o:</p>
<ul>
<li><strong>WebGL na placa gr√°fica do dispositivo (GPU)</strong>: Essa √© a maneira mais r√°pida de executar modelos grandes  (maiores que 3MB) com acelera√ß√£o em GPU.</li>
<li><strong>Web Assembly (WASM) na CPU</strong>:  utilizado para melhor a performance de CPUs nos dispositivos - incluindo smartphones de gera√ß√µes mais antigas. Geralmente √© utilizada em modelos pequenos (menores que 3MB) que s√£o mais r√°pidos ao serem executados em uma CPI com WASM to que com WebGL devido ao overhead se subir com os dados para um processador gr√°fico.<br>*</li>
<li><strong>CPU</strong>:  Utilizado quando nenhuma das duas formas de execu√ß√£o anterioes est√£o dispon√≠veis. √â a forma de execu√ß√£o mais lenta.</li>
</ul>
<aside class="special"><p>Voc√™ pode <a href="https://www.tensorflow.org/js/guide/platform_environment" target="_blank">for√ßar a execu√ß√£o</a> de qualquer um desses backends caso voc√™ saiba em que ambiente a execu√ß√£o ser√° feita, ou deixar que Tensorflow.js escolha a melhor op√ß√£o para voc√™.</p>
</aside>
<h2 is-upgraded>As grandes vantagens de rodar uma aplica√ß√£o no lado do cliente</h2>
<p>Rodar aplica√ß√µes de Machine Learning em um navegador web e no lado do cliente proporciona muitos benef√≠cios que valem a pena ser considerados.</p>
<p><strong>Privacidade</strong><br>Voc√™ pode treinar e classificar dados na m√°quina do cliente sem a necessidade de enviar nenhuma informa√ß√£o para um servidor.  Muitas vezes, as aplica√ß√µes esbarram em requerimentos legais para serem desenvolvidas, como a <a href="http://www.planalto.gov.br/ccivil_03/_ato2015-2018/2018/lei/l13709.htm" target="_blank">LGPD</a>,  e n√£o podem ter dados trafegando entre servidores. Com o Tensorflow.js √© poss√≠vel construir tudo diretamente no lado do cliente sem a necessidade de recursos externos.</p>
<p><strong>Velocidade</strong><br>Como n√£o √© necess√°rio enviar dados para um servidor, as infer√™ncias s√£o mais r√°pidas. Mais do que isso, √© poss√≠vel ter acesso direto aos sensores do dispositivo como c√¢mera, microfone, GPUs, aceler√¥metro e etc.</p>
<p><strong>Escala</strong><br>Com somente um clique, qualquer pessoa do mundo pode abrir um link, acessar uma p√°gina no navegador e utilizar a aplica√ß√£o que voc√™ construiu. N√£o √© necess√°rio m√°quinas caras ou configura√ß√µes de servidores caros com drivers <a href="https://developer.nvidia.com/cuda-toolkit" target="_blank">CUDA</a>.</p>
<p><strong>Custo</strong><br>A √∫nica coisa que √© necess√°ria para rodar sua aplica√ß√£o √© internet para hospedar arquivos HTML, CSS, JS, arquivos e modelos. Um custo muito mais barato do que rodar um servidor com GPUs caras 24‚ÅÑ7.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Modelos pr√©-treinados" duration="1">
        <p>O Tensorflow.js fornece uma variedade de modelos de machine leaarning pr√©-treinados em diferentes contextos. Eles foram desenvolvidos pelo time do google e envelopados em classes, tornando o uso bem simples e direto.</p>
<p>Sem d√∫vidas, utilizar esses modelos √© a melhor forma de dar os primeiros passos com Machine Learning em JavaScript. Voc√™ pode encontrar uma lista deles na <a href="https://www.tensorflow.org/js/models" target="_blank">p√°gina do Tensorflow.js</a> ou no <a href="https://tfhub.dev/s?deployment-format=tfjs" target="_blank">Tensorflow Hub</a>.</p>
<h2 is-upgraded>Por qu√™ usar um modelo pr√©-treinado?</h2>
<p>Existem v√°rios beneficios em come√ßar uma aplica√ß√£o com um modelo pr√©-treinado se ele se encaixa no problema que voc√™ est√° buscando resolver:</p>
<ol type="1">
<li><strong>N√£o √© necess√°rio coletar e preparar os dados de treinamento</strong>:  Preparar os dados no formato correto de forma com que o modelo de machine learning consiga consumir pode ser demorado e custoso.</li>
<li><strong>F√°cil prototipa√ß√£o</strong>: Ao pensar em uma aplica√ß√£o, n√£o precisamos reinventar a roda - muitas vezes, um modelo pr√©-treinado √© capaz de resolver o problema. Dessa forma, √© poss√≠vel focar nos benef√≠cios que a solu√ß√£o traz e n√£o em seu processo de constru√ß√£o.</li>
<li><strong>Uso do estado da arte</strong>:  Geralmente, os modelos pr√©-treinados s√£o baseados em solu√ß√µes consolidadas e eficientes. Us√°-los, significa trabalhar com o que h√° de melhor em  c√≥digo aberto no momento.</li>
<li>Transfer learning: A maioria dos modelos pr√©-treinados oferecem a possibilidade de transfer learning, que √© a pr√°tica de transferir o aprendizado de uma tarefa para outra que apresenta um contexto semelhante.</li>
</ol>
<h2 is-upgraded>O que √© o COCO-SSD?</h2>
<p>COCO-SSD √© o nome do modelo pr√©-treinado que iremos utilizar nesse projeto. O objetivo dele √© localizar e identificar multiplos objetos em uma imagem. Em outras palavras, ele informa a localiza√ß√£o dos objetos que ele √© capaz de reconhecer. Um exemplo √© mostrado na imagem a seguir:</p>
<p class="image-container"><img alt="alt text" title="Exemplo_cacau" src="img/7ea1c0326485ed6d.png"></p>
<p>Se houvesse mais do que um cachorro , o modelo iria fornecer as coordenadas e classe de ambos. O COCO-SSD foi treinado para reconhecer <a href="https://github.com/tensorflow/tfjs-models/blob/master/coco-ssd/src/classes.ts" target="_blank">90 objetos diferentes</a> e que est√£o presentes em nosso dia a dia como pessoas, carros, cachorros, garradas, etc.</p>
<h2 is-upgraded>De onde v√™m esses nomes?</h2>
<p>Os nomes podem soar estranhos, mas eles s√£o frutos de duas siglas distintas:</p>
<ul>
<li>COCO: Refere-se ao fato de que o modelo foi treinado no dataset <a href="https://cocodataset.org/#home" target="_blank">Objetos Comuns em Contexto</a> (*C*ommon *O*bjects in *CO*ntext). Ele possui mais de 200 mil imagens, foi construido pela Microsoft e est√° dispon√≠vel gratuitamente.</li>
<li>SSD: √â um detector de shot √∫nico (Single Shot Detector). Se voc√™ tem interesse em como √© arquitetura do modelo, voc√™ pode saber mais <a href="https://towardsdatascience.com/understanding-ssd-multibox-real-time-object-detection-in-deep-learning-495ef744fab" target="_blank">aqui</a>.</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Configurando o ambiente" duration="1">
        <h2 is-upgraded>O que voc√™ vai precisar:</h2>
<ul>
<li>Um navegador web</li>
<li>Conhecimentos b√°sicos de HTML, CSS e JavaScript</li>
</ul>
<h2 is-upgraded>Bora codar</h2>
<p>Caso n√£o tenha, crie uma conta no <a href="https://glitch.com/" target="_blank">Glitch</a> e abra o template que foi desenvolvido para dar inicio ao desenvolvimento do projeto.</p>
<p><a href="https://glitch.com/edit/#!/deteccao-objetos-tf" target="_blank">Abrir template</a></p>
<p>No Glitch, clique sobre o nome do projeto e selecione <strong>remix this</strong>  para criar uma c√≥pia do reposit√≥rio.</p>
<p>Esse √© um projeto muito simples com os seguintes arquivos:</p>
<ul>
<li>HTML page (index.html)</li>
<li>Stylesheet (style.css)</li>
<li>File to write our JavaScript code (script.js)</li>
</ul>
<p>Estamos prontos para dar o √≠nicio ao desenvolvimento do projeto!</p>


      </google-codelab-step>
    
      <google-codelab-step label="Criando o c√≥digo HTML" duration="1">
        <p>Todo projeto web necessita de um esqueleto HTML b√°sico. Vamos us√°-lo para renderizar a sa√≠da do modelo de Machine Learning mais tarde. Por enquanto, vamos definir o b√°sico:</p>
<ul>
<li>Um t√≠tulo para a p√°gina</li>
<li>Texto de descri√ß√£o</li>
<li>Um bot√£o para ativar a webcam</li>
<li>Importar o tensorflow.js</li>
</ul>
<p>Para fazer isso, abra o arquivo <code>index.html</code> remova o conte√∫do existente e cole o seguinte trecho de c√≥digo:</p>
<p><strong>index.html</strong></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
  &lt;head&gt;
    &lt;title&gt;Detec√ß√£o de objetos em tempo real utilizando um modelo pr√©-treinado em Tensorflow.js&lt;/title&gt;
    &lt;meta charset=&#34;utf-8&#34;&gt;
    &lt;!-- Import the webpage&#39;s stylesheet --&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;style.css&#34;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Detec√ß√£o de objetos em tempo real utilizando um modelo pr√©-treinado e Tensorflow.js&lt;/h1&gt;
    &lt;p&gt;Espere o modelo ser carregado para clicar no bot√£o &#34;Ativar Webcam&#34;.&lt;/p&gt;
    &lt;section id=&#34;demos&#34; class=&#34;invisible&#34;&gt;
        &lt;p&gt;Caso o navegador solicite, aprove o acesso a c√¢mera (verifique o canto superior direito da p√°gina). &lt;br/&gt;&lt;br/&gt;
         Segure algum objeto perto da c√¢mera para realizar uma classifica√ß√£o em tempo real!&lt;/p&gt;
        &lt;div id=&#34;liveView&#34; class=&#34;camView&#34;&gt;
            &lt;button id=&#34;webcamButton&#34;&gt;Ativar Webcam&lt;/button&gt;                                                       
            &lt;video id=&#34;webcam&#34; autoplay width=&#34;640&#34; height=&#34;480&#34;&gt;&lt;/video&gt;      
            &lt;/div&gt;    
    &lt;/section&gt;
    
    &lt;!-- Import TensorFlow.js library --&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt;
    &lt;!-- Load the coco-ssd model to use to recognize things in images --&gt;
    &lt;script src=&#34;https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd&#34;&gt;&lt;/script&gt;

    &lt;!-- Import the page&#39;s JavaScript to do some stuff --&gt;    
    &lt;script src=&#34;script.js&#34; defer&gt;&lt;/script&gt;  
  &lt;/body&gt;
&lt;/html&gt;

</code></pre>
<p>Se tudo correr bem, voc√™ ir√° ver a seguinte tela:</p>
<p class="image-container"><img alt="alt text" title="Screen 1" src="img/57bbf8d0d11871c1.PNG"></p>
<aside class="special"><p><strong>Dica</strong>: Voc√™ pode visualizar seu trabalho no Glitch clicando no bot√£o <strong>Show</strong> no canto superior esquerdo da tela e selecionando a op√ß√£o <strong>Next to The Code</strong>.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Adicionando estilo" duration="1">
        <p>Agora, vamos definir as cores e estilos do nosso projeto. Abra o arquivo <code>style.css</code> e adicione o seguinte trecho de c√≥digo (sobrescrevendo o anterior):</p>
<p><strong>style.css</strong></p>
<pre><code>body {
  font-family: helvetica, arial, sans-serif;
  margin: 2em;
  color: #3D3D3D;
}

h1 {
  font-style: italic;
  color: #FF6F00;
}

video {
  display: block;
}

section {
  opacity: 1;
  transition: opacity 500ms ease-in-out;
}

</code></pre>
<p>Logo abaixo, adicione algumas classes CSS com os diferentes estados da nossa interface de usu√°rio, como quando gostar√≠amos de ocultar os bot√µes ou fazer a demonstra√ß√£o indispon√≠vel caso o modelo ainda n√£o esteja carregado.</p>
<p><strong>style.css</strong></p>
<pre><code>.removed {
  display: none;
}

.invisible {
  opacity: 0.2;
}

.camView {
  position: relative;
  float: left;
  width: calc(100% - 20px);
  margin: 10px;
  cursor: pointer;
}

.camView p {
  position: absolute;
  padding: 5px;
  background-color: rgba(45, 42, 38, 0.85);
  color: #FFF;
  border: 1px dashed rgba(255, 255, 255, 0.7);
  z-index: 2;
  font-size: 12px;
}

.highlighter {
  background: rgba(0, 255, 0, 0.25);
  border: 1px dashed #fff;
  z-index: 1;
  position: absolute;
}

</code></pre>
<p>Boa! Se tudo foi feito corretamente, voc√™ ir√° ver a seguinte tela:</p>
<p class="image-container"><img alt="alt text" title="Screen 2" src="img/ef66da0a36e3aa81.PNG"></p>
<p>Note como a √°rea de demonstra√ß√£o e bot√£o de &#34;Ativar Webcam&#34; est√£o indispon√≠veis. O HTML tem a classe &#34;invisible&#34; aplicada por default. Iremos utilizar JavaScript para desabilitar essa classe assim que o modelo estiver pronto para uso.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Criando o c√≥digo JavaScript" duration="1">
        <aside class="special"><p><strong>Dica</strong>: O c√≥digo desta se√ß√£o √© mostrado em ordem, mas quebrado em pequenos peda√ßos para facilitar as explica√ß√µes. Se voc√™ copiar e colar cada um desses trechos ao final do arquivo <code>script.js</code>, tudo deve funcionar perfeitamente.</p>
</aside>
<h2 is-upgraded>Acessando os elementos chave</h2>
<p>Primeiro, garanta que √© poss√≠vel acessar as partes chave da p√°gina que vamos precisar manipular ao longo do c√≥digo</p>
<p><strong>script.js</strong></p>
<pre><code>const video = document.getElementById(&#39;webcam&#39;);
const liveView = document.getElementById(&#39;liveView&#39;);
const demosSection = document.getElementById(&#39;demos&#39;);
const enableWebcamButton = document.getElementById(&#39;webcamButton&#39;);
</code></pre>
<h2 is-upgraded>Verificando o acesso a webcam</h2>
<p>Vamos adicionar algumas fun√ß√µes auxiliares para checar se o navegador utilizado suporta o acesso a streaming de v√≠deo via <code>getUserMedia</code>.</p>
<p><strong>script.js</strong></p>
<pre><code>// Check if webcam access is supported.
function getUserMediaSupported() {
  return !!(navigator.mediaDevices &amp;&amp;
    navigator.mediaDevices.getUserMedia);
}

// If webcam supported, add event listener to button for when user
// wants to activate it to call enableCam function which we will 
// define in the next step.
if (getUserMediaSupported()) {
  enableWebcamButton.addEventListener(&#39;click&#39;, enableCam);
} else {
  console.warn(&#39;getUserMedia() is not supported by your browser&#39;);
}
</code></pre>
<h2 is-upgraded>Ativando o streaming</h2>
<p>Agora, ative o streaming e disponibilize uma visualiza√ß√£o para o usu√°rio:</p>
<p><strong>script.js</strong></p>
<pre><code>// Enable the live webcam view and start classification.
function enableCam(event) {
  // Only continue if the COCO-SSD has finished loading.
  if (!model) {
    return;
  }
  
  // Hide the button once clicked.
  event.target.classList.add(&#39;removed&#39;);  
  
  // getUsermedia parameters to force video but not audio.
  const constraints = {
    video: true
  };

  // Activate the webcam stream.
  navigator.mediaDevices.getUserMedia(constraints).then(function(stream) {
    video.srcObject = stream;
    video.addEventListener(&#39;loadeddata&#39;, predictWebcam);
  });
}
</code></pre>
<p>Por fim, adicione um c√≥digo tempor√°rio s√≥ para testar se a webcam est√° funcionando.</p>
<p>O c√≥digo a seguir vai assumir que o modelo est√° carregado e vai ativar o bot√£o da c√¢mera para que voc√™ possa clicar. Vamos substituir esse c√≥digo na pr√≥xima etapa ent√£o <strong>lembre-se de remov√™-lo no pr√≥ximo passo!</strong></p>
<p><strong>script.js</strong></p>
<pre><code>// Placeholder function for next step.
function predictWebcam() {
}

// Pretend model has loaded so we can try out the webcam code.
var model = true;
demosSection.classList.remove(&#39;invisible&#39;);
</code></pre>
<aside class="special"><p><strong>Teste</strong>: Nesse momento, se voc√™ rodar o c√≥digo como ele est√° e clicar no bot√£o &#34;Ativar Webcam&#34; voc√™ dever√° ver um streaming de v√≠deo.</p>
</aside>
<p>√ìtimo! Provavelmente voc√™ est√° vendo uma tela similar a essa:</p>
<p class="image-container"><img alt="alt text" title="Screen 3" src="img/b60c5ddf0db2e804.PNG"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Usando o modelo de Machine Learning" duration="1">
        <h2 is-upgraded>Carregando o modelo</h2>
<p>Agora, vamos carregar o modelo COCO-SSD.</p>
<p>Assim que ele terminar de ser inicializado, iremos habilitar o bot√£o de ativar a webcam. Cole o c√≥digo a seguir sobre o c√≥digo tempor√°rio que adicionamos ao final da √∫ltima etapa.</p>
<p><strong>script.js</strong></p>
<pre><code>// Store the resulting model in the global scope of our app.
var model = undefined;

// Before we can use COCO-SSD class we must wait for it to finish
// loading. Machine Learning models can be large and take a moment 
// to get everything needed to run.
// Note: cocoSsd is an external object loaded from our index.html
// script tag import so ignore any warning in Glitch.
cocoSsd.load().then(function (loadedModel) {
  model = loadedModel;
  // Show demo section now model is ready to use.
  demosSection.classList.remove(&#39;invisible&#39;);
});
</code></pre>
<h2 is-upgraded>Classificando um frame a partir da Webcam</h2>
<p>Adicione o c√≥digo a seguir para que a aplica√ß√£o consuma continuamente os frames da webcam e passe ao modelo para que eles sejam classificados.</p>
<p>O modelo ir√° retornar as coordenadas, precis√£o e classe das predi√ß√µes. Essas informa√ß√µes ser√£o utilizadas para renderizar os resultados.</p>
<p><strong>script.js</strong></p>
<pre><code>var children = [];

function predictWebcam() {
  // Now let&#39;s start classifying a frame in the stream.
  model.detect(video).then(function (predictions) {
    // Remove any highlighting we did previous frame.
    for (let i = 0; i &lt; children.length; i++) {
      liveView.removeChild(children[i]);
    }
    children.splice(0);
    
    // Now lets loop through predictions and draw them to the live view if
    // they have a high confidence score.
    for (let n = 0; n &lt; predictions.length; n++) {
      // If we are over 66% sure we are sure we classified it right, draw it!
      if (predictions[n].score &gt; 0.66) {
        const p = document.createElement(&#39;p&#39;);
        p.innerText = predictions[n].class  + &#39; - with &#39; 
            + Math.round(parseFloat(predictions[n].score) * 100) 
            + &#39;% confidence&#39;;
        p.style = &#39;margin-left: &#39; + predictions[n].bbox[0] + &#39;px; margin-top: &#39;
            + (predictions[n].bbox[1] - 10) + &#39;px; width: &#39; 
            + (predictions[n].bbox[2] - 10) + &#39;px; top: 0; left: 0;&#39;;

        const highlighter = document.createElement(&#39;div&#39;);
        highlighter.setAttribute(&#39;class&#39;, &#39;highlighter&#39;);
        highlighter.style = &#39;left: &#39; + predictions[n].bbox[0] + &#39;px; top: &#39;
            + predictions[n].bbox[1] + &#39;px; width: &#39; 
            + predictions[n].bbox[2] + &#39;px; height: &#39;
            + predictions[n].bbox[3] + &#39;px;&#39;;

        liveView.appendChild(highlighter);
        liveView.appendChild(p);
        children.push(highlighter);
        children.push(p);
      }
    }
    
    // Call this function again to keep predicting when the browser is ready.
    window.requestAnimationFrame(predictWebcam);
  });
}
</code></pre>
<p>A parte mais importante desse c√≥digo √© o <code>model.detect</code>.</p>
<p>Todos modelos pr√©-treinados do Tensorflow.js t√™m uma fun√ß√£o como essa. Ela √© respons√°vel por realizar o processo de infer√™ncia do modelo.</p>
<p>Infer√™ncia √© o processo de pegar uma entrada e passar atrav√©s do modelo de machine learning (v√°rias opera√ß√µes matem√°ticas) e ent√£o gerar resultados. Em tensorflow, as predi√ß√µes s√£o retornadas na forma de objetos JSON, que s√£o bem simples de serem utilizados.</p>
<p>Voc√™ pode encontrar todos os detalhes da fun√ß√£o de predi√ß√£o na <a href="https://github.com/tensorflow/tfjs-models/tree/master/coco-ssd" target="_blank">documenta√ß√£o do COCO-SSD</a>.</p>
<p>Ao rodar o c√≥digo, o resultado final deve ser similar a este:</p>
<p class="image-container"><img alt="alt text" title="Screen 4" src="img/ba8dcaba5d3e6407.PNG"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Parab√©ns" duration="1">
        <p>Parab√©ns! Voc√™ deu seus primeiros passos no uso de Tensorflow.js e Machine Learning no navegador. Agora, s√≥ depende de voc√™ pegar tudo que aprendeu para criar algo criativo e √∫til :)</p>
<h3 is-upgraded>Resumo</h3>
<p>Nesse treinamento n√≥s:</p>
<ul>
<li>Aprendemos os benef√≠cios de se utilizar Tensorflow.js em compara√ß√£o ao Tensorflow padr√£o</li>
<li>Discutimos situa√ß√µes em que √© poss√≠vel utilizar modelos pr√©-treinados</li>
<li>Criamos uma aplica√ß√£o web completa que √© capaz de classificar objetos em tempo real, incluindo:<br><br><ul>
<li>Cria√ß√£o de uma p√°gina HTML</li>
<li>Defini√ß√£o de estilos para elementos HTML e classes</li>
<li>Configura√ß√£o e carregamento de um modelo pr√©-treinado em Tensorflow.js</li>
<li>Uso do modelo para fazer classifica√ß√µes continuas do streaming da webcam e renderiza√ß√£o dos resultados.</li>
</ul>
</li>
</ul>
<h2 is-upgraded>Pr√≥ximos passos</h2>
<p>Compartilhe as suas cria√ß√µes nas redes sociais! Voc√™ pode desenvolver in√∫meras aplica√ß√µes com os aprendizados desse se√ß√£o.</p>
<p>Veja todos os objetos que o modelo utilizado √© capaz de reconhecer e pense como voc√™ pode utilizar o conhecimento adiquirido para criar algo inovador.</p>
<p>Poste seu resultado com a tag #MadeWithTFJS em qualquer rede social e o time do Tensorflow estar√° de olho nos resultados.</p>
<h2 is-upgraded>Outros projetos para se aprofundar</h2>
<p><a href="https://blog.tensorflow.org/2021/01/custom-object-detection-in-browser.html" target="_blank">Detec√ß√£o customizada de objetos no navegador utilizando Tensorflow.js</a></p>
<p><a href="https://codelabs.developers.google.com/codelabs/tensorflowjs-audio-codelab/index.html?index=..%2F..index#0" target="_blank">Reconhecimento de √°udio utilizando transfer learning  em TensorFlow.js</a></p>
<h2 is-upgraded>Sites para visitar</h2>
<p><a href="https://www.tensorflow.org/js" target="_blank">Site oficial do TensorFlow.js</a></p>
<p><a href="https://www.tensorflow.org/js/models" target="_blank">Modelos pr√©-treinados em TensorFlow.js</a></p>
<p><a href="https://js.tensorflow.org/api/latest/" target="_blank">TensorFlow.js API</a></p>
<p><a href="https://github.com/tensorflow/tfjs-examples/" target="_blank">TensorFlow.js Demos</a></p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
